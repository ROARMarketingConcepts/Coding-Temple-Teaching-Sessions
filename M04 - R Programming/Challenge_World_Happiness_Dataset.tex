% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
\documentclass[
]{article}
\usepackage{xcolor}
\usepackage[margin=1in]{geometry}
\usepackage{amsmath,amssymb}
\setcounter{secnumdepth}{-\maxdimen} % remove section numbering
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math} % this also loads fontspec
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
\usepackage{lmodern}
\ifPDFTeX\else
  % xetex/luatex font selection
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\newsavebox\pandoc@box
\newcommand*\pandocbounded[1]{% scales image to fit in text height/width
  \sbox\pandoc@box{#1}%
  \Gscale@div\@tempa{\textheight}{\dimexpr\ht\pandoc@box+\dp\pandoc@box\relax}%
  \Gscale@div\@tempb{\linewidth}{\wd\pandoc@box}%
  \ifdim\@tempb\p@<\@tempa\p@\let\@tempa\@tempb\fi% select the smaller of both
  \ifdim\@tempa\p@<\p@\scalebox{\@tempa}{\usebox\pandoc@box}%
  \else\usebox{\pandoc@box}%
  \fi%
}
% Set default figure placement to htbp
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\usepackage{bookmark}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same}
\hypersetup{
  pdftitle={Coding Temple R-Programming Challenge: World Happiness Dataset},
  pdfauthor={Ken Wood},
  hidelinks,
  pdfcreator={LaTeX via pandoc}}

\title{Coding Temple R-Programming Challenge: World Happiness Dataset}
\author{Ken Wood}
\date{2025-02-16}

\begin{document}
\maketitle

\paragraph{1. Setting up the
Environment}\label{setting-up-the-environment}

Import necessary libraries and load the dataset:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(tidyverse)}
\FunctionTok{library}\NormalTok{(lubridate)}
\FunctionTok{library}\NormalTok{(skimr)}
\FunctionTok{library}\NormalTok{(dplyr)}
\NormalTok{whr }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"WHR2023.csv"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\paragraph{2. Initial Exploration of the
Dataset}\label{initial-exploration-of-the-dataset}

Explore the structure and summary of the dataset:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{str}\NormalTok{(whr)  }\CommentTok{\# View the structure of the dataset}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 'data.frame':    137 obs. of  19 variables:
##  $ Country.name                              : chr  "Finland" "Denmark" "Iceland" "Israel" ...
##  $ Ladder.score                              : num  7.8 7.59 7.53 7.47 7.4 ...
##  $ Standard.error.of.ladder.score            : num  0.036 0.041 0.049 0.032 0.029 0.037 0.044 0.043 0.069 0.038 ...
##  $ upperwhisker                              : num  7.88 7.67 7.62 7.54 7.46 ...
##  $ lowerwhisker                              : num  7.73 7.51 7.43 7.41 7.35 ...
##  $ Logged.GDP.per.capita                     : num  10.8 11 10.9 10.6 10.9 ...
##  $ Social.support                            : num  0.969 0.954 0.983 0.943 0.93 0.939 0.943 0.92 0.879 0.952 ...
##  $ Healthy.life.expectancy                   : num  71.2 71.2 72 72.7 71.5 ...
##  $ Freedom.to.make.life.choices              : num  0.961 0.934 0.936 0.809 0.887 0.948 0.947 0.891 0.915 0.887 ...
##  $ Generosity                                : num  -0.019 0.134 0.211 -0.023 0.213 0.165 0.141 0.027 0.024 0.175 ...
##  $ Perceptions.of.corruption                 : num  0.182 0.196 0.668 0.708 0.379 0.202 0.283 0.266 0.345 0.271 ...
##  $ Ladder.score.in.Dystopia                  : num  1.78 1.78 1.78 1.78 1.78 ...
##  $ Explained.by..Log.GDP.per.capita          : num  1.89 1.95 1.93 1.83 1.94 ...
##  $ Explained.by..Social.support              : num  1.58 1.55 1.62 1.52 1.49 ...
##  $ Explained.by..Healthy.life.expectancy     : num  0.535 0.537 0.559 0.577 0.545 0.562 0.544 0.582 0.549 0.513 ...
##  $ Explained.by..Freedom.to.make.life.choices: num  0.772 0.734 0.738 0.569 0.672 0.754 0.752 0.678 0.71 0.672 ...
##  $ Explained.by..Generosity                  : num  0.126 0.208 0.25 0.124 0.251 0.225 0.212 0.151 0.149 0.23 ...
##  $ Explained.by..Perceptions.of.corruption   : num  0.535 0.525 0.187 0.158 0.394 0.52 0.463 0.475 0.418 0.471 ...
##  $ Dystopia...residual                       : num  2.36 2.08 2.25 2.69 2.11 ...
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{head}\NormalTok{(whr)  }\CommentTok{\# Preview the first few rows}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##   Country.name Ladder.score Standard.error.of.ladder.score upperwhisker
## 1      Finland        7.804                          0.036        7.875
## 2      Denmark        7.586                          0.041        7.667
## 3      Iceland        7.530                          0.049        7.625
## 4       Israel        7.473                          0.032        7.535
## 5  Netherlands        7.403                          0.029        7.460
## 6       Sweden        7.395                          0.037        7.468
##   lowerwhisker Logged.GDP.per.capita Social.support Healthy.life.expectancy
## 1        7.733                10.792          0.969                  71.150
## 2        7.506                10.962          0.954                  71.250
## 3        7.434                10.896          0.983                  72.050
## 4        7.411                10.639          0.943                  72.697
## 5        7.346                10.942          0.930                  71.550
## 6        7.322                10.883          0.939                  72.150
##   Freedom.to.make.life.choices Generosity Perceptions.of.corruption
## 1                        0.961     -0.019                     0.182
## 2                        0.934      0.134                     0.196
## 3                        0.936      0.211                     0.668
## 4                        0.809     -0.023                     0.708
## 5                        0.887      0.213                     0.379
## 6                        0.948      0.165                     0.202
##   Ladder.score.in.Dystopia Explained.by..Log.GDP.per.capita
## 1                    1.778                            1.888
## 2                    1.778                            1.949
## 3                    1.778                            1.926
## 4                    1.778                            1.833
## 5                    1.778                            1.942
## 6                    1.778                            1.921
##   Explained.by..Social.support Explained.by..Healthy.life.expectancy
## 1                        1.585                                 0.535
## 2                        1.548                                 0.537
## 3                        1.620                                 0.559
## 4                        1.521                                 0.577
## 5                        1.488                                 0.545
## 6                        1.510                                 0.562
##   Explained.by..Freedom.to.make.life.choices Explained.by..Generosity
## 1                                      0.772                    0.126
## 2                                      0.734                    0.208
## 3                                      0.738                    0.250
## 4                                      0.569                    0.124
## 5                                      0.672                    0.251
## 6                                      0.754                    0.225
##   Explained.by..Perceptions.of.corruption Dystopia...residual
## 1                                   0.535               2.363
## 2                                   0.525               2.084
## 3                                   0.187               2.250
## 4                                   0.158               2.691
## 5                                   0.394               2.110
## 6                                   0.520               1.903
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{summary}\NormalTok{(whr)  }\CommentTok{\# Summary statistics of the dataset}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  Country.name        Ladder.score   Standard.error.of.ladder.score
##  Length:137         Min.   :1.859   Min.   :0.02900               
##  Class :character   1st Qu.:4.724   1st Qu.:0.04700               
##  Mode  :character   Median :5.684   Median :0.06000               
##                     Mean   :5.540   Mean   :0.06472               
##                     3rd Qu.:6.334   3rd Qu.:0.07700               
##                     Max.   :7.804   Max.   :0.14700               
##                                                                   
##   upperwhisker    lowerwhisker   Logged.GDP.per.capita Social.support  
##  Min.   :1.923   Min.   :1.795   Min.   : 5.527        Min.   :0.3410  
##  1st Qu.:4.980   1st Qu.:4.496   1st Qu.: 8.591        1st Qu.:0.7220  
##  Median :5.797   Median :5.529   Median : 9.567        Median :0.8270  
##  Mean   :5.667   Mean   :5.413   Mean   : 9.450        Mean   :0.7991  
##  3rd Qu.:6.441   3rd Qu.:6.243   3rd Qu.:10.540        3rd Qu.:0.8960  
##  Max.   :7.875   Max.   :7.733   Max.   :11.660        Max.   :0.9830  
##                                                                        
##  Healthy.life.expectancy Freedom.to.make.life.choices   Generosity      
##  Min.   :51.53           Min.   :0.3820               Min.   :-0.25400  
##  1st Qu.:60.65           1st Qu.:0.7240               1st Qu.:-0.07400  
##  Median :65.84           Median :0.8010               Median : 0.00100  
##  Mean   :64.97           Mean   :0.7874               Mean   : 0.02243  
##  3rd Qu.:69.41           3rd Qu.:0.8740               3rd Qu.: 0.11700  
##  Max.   :77.28           Max.   :0.9610               Max.   : 0.53100  
##  NA's   :1                                                              
##  Perceptions.of.corruption Ladder.score.in.Dystopia
##  Min.   :0.1460            Min.   :1.778           
##  1st Qu.:0.6680            1st Qu.:1.778           
##  Median :0.7740            Median :1.778           
##  Mean   :0.7254            Mean   :1.778           
##  3rd Qu.:0.8460            3rd Qu.:1.778           
##  Max.   :0.9290            Max.   :1.778           
##                                                    
##  Explained.by..Log.GDP.per.capita Explained.by..Social.support
##  Min.   :0.000                    Min.   :0.000               
##  1st Qu.:1.099                    1st Qu.:0.962               
##  Median :1.449                    Median :1.227               
##  Mean   :1.407                    Mean   :1.156               
##  3rd Qu.:1.798                    3rd Qu.:1.401               
##  Max.   :2.200                    Max.   :1.620               
##                                                               
##  Explained.by..Healthy.life.expectancy
##  Min.   :0.0000                       
##  1st Qu.:0.2485                       
##  Median :0.3895                       
##  Mean   :0.3662                       
##  3rd Qu.:0.4875                       
##  Max.   :0.7020                       
##  NA's   :1                            
##  Explained.by..Freedom.to.make.life.choices Explained.by..Generosity
##  Min.   :0.000                              Min.   :0.0000          
##  1st Qu.:0.455                              1st Qu.:0.0970          
##  Median :0.557                              Median :0.1370          
##  Mean   :0.540                              Mean   :0.1485          
##  3rd Qu.:0.656                              3rd Qu.:0.1990          
##  Max.   :0.772                              Max.   :0.4220          
##                                                                     
##  Explained.by..Perceptions.of.corruption Dystopia...residual
##  Min.   :0.0000                          Min.   :-0.110     
##  1st Qu.:0.0600                          1st Qu.: 1.555     
##  Median :0.1110                          Median : 1.849     
##  Mean   :0.1459                          Mean   : 1.778     
##  3rd Qu.:0.1870                          3rd Qu.: 2.079     
##  Max.   :0.5610                          Max.   : 2.955     
##                                          NA's   :1
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{skim}\NormalTok{(whr)  }\CommentTok{\# Detailed skim of the dataset}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}ll@{}}
\caption{Data summary}\tabularnewline
\toprule\noalign{}
\endfirsthead
\endhead
\bottomrule\noalign{}
\endlastfoot
Name & whr \\
Number of rows & 137 \\
Number of columns & 19 \\
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_ & \\
Column type frequency: & \\
character & 1 \\
numeric & 18 \\
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_ & \\
Group variables & None \\
\end{longtable}

\textbf{Variable type: character}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 14\tabcolsep) * \real{0.1944}}
  >{\raggedleft\arraybackslash}p{(\linewidth - 14\tabcolsep) * \real{0.1389}}
  >{\raggedleft\arraybackslash}p{(\linewidth - 14\tabcolsep) * \real{0.1944}}
  >{\raggedleft\arraybackslash}p{(\linewidth - 14\tabcolsep) * \real{0.0556}}
  >{\raggedleft\arraybackslash}p{(\linewidth - 14\tabcolsep) * \real{0.0556}}
  >{\raggedleft\arraybackslash}p{(\linewidth - 14\tabcolsep) * \real{0.0833}}
  >{\raggedleft\arraybackslash}p{(\linewidth - 14\tabcolsep) * \real{0.1250}}
  >{\raggedleft\arraybackslash}p{(\linewidth - 14\tabcolsep) * \real{0.1528}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
skim\_variable
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
n\_missing
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
complete\_rate
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
min
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
max
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
empty
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
n\_unique
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
whitespace
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
Country.name & 0 & 1 & 4 & 25 & 0 & 137 & 0 \\
\end{longtable}

\textbf{Variable type: numeric}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\linewidth - 20\tabcolsep) * \real{0.3772}}
  >{\raggedleft\arraybackslash}p{(\linewidth - 20\tabcolsep) * \real{0.0877}}
  >{\raggedleft\arraybackslash}p{(\linewidth - 20\tabcolsep) * \real{0.1228}}
  >{\raggedleft\arraybackslash}p{(\linewidth - 20\tabcolsep) * \real{0.0526}}
  >{\raggedleft\arraybackslash}p{(\linewidth - 20\tabcolsep) * \real{0.0439}}
  >{\raggedleft\arraybackslash}p{(\linewidth - 20\tabcolsep) * \real{0.0526}}
  >{\raggedleft\arraybackslash}p{(\linewidth - 20\tabcolsep) * \real{0.0526}}
  >{\raggedleft\arraybackslash}p{(\linewidth - 20\tabcolsep) * \real{0.0526}}
  >{\raggedleft\arraybackslash}p{(\linewidth - 20\tabcolsep) * \real{0.0526}}
  >{\raggedleft\arraybackslash}p{(\linewidth - 20\tabcolsep) * \real{0.0526}}
  >{\raggedright\arraybackslash}p{(\linewidth - 20\tabcolsep) * \real{0.0526}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
skim\_variable
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
n\_missing
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
complete\_rate
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
mean
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
sd
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p0
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p25
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p50
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p75
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
p100
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
hist
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
Ladder.score & 0 & 1.00 & 5.54 & 1.14 & 1.86 & 4.72 & 5.68 & 6.33 & 7.80
& ▁▂▆▇▃ \\
Standard.error.of.ladder.score & 0 & 1.00 & 0.06 & 0.02 & 0.03 & 0.05 &
0.06 & 0.08 & 0.15 & ▆▇▃▁▁ \\
upperwhisker & 0 & 1.00 & 5.67 & 1.12 & 1.92 & 4.98 & 5.80 & 6.44 & 7.88
& ▁▂▆▇▃ \\
lowerwhisker & 0 & 1.00 & 5.41 & 1.16 & 1.79 & 4.50 & 5.53 & 6.24 & 7.73
& ▁▂▆▇▃ \\
Logged.GDP.per.capita & 0 & 1.00 & 9.45 & 1.21 & 5.53 & 8.59 & 9.57 &
10.54 & 11.66 & ▁▃▆▇▆ \\
Social.support & 0 & 1.00 & 0.80 & 0.13 & 0.34 & 0.72 & 0.83 & 0.90 &
0.98 & ▁▂▃▆▇ \\
Healthy.life.expectancy & 1 & 0.99 & 64.97 & 5.75 & 51.53 & 60.65 &
65.84 & 69.41 & 77.28 & ▃▃▇▇▂ \\
Freedom.to.make.life.choices & 0 & 1.00 & 0.79 & 0.11 & 0.38 & 0.72 &
0.80 & 0.87 & 0.96 & ▁▁▃▇▇ \\
Generosity & 0 & 1.00 & 0.02 & 0.14 & -0.25 & -0.07 & 0.00 & 0.12 & 0.53
& ▃▇▅▁▁ \\
Perceptions.of.corruption & 0 & 1.00 & 0.73 & 0.18 & 0.15 & 0.67 & 0.77
& 0.85 & 0.93 & ▁▁▁▅▇ \\
Ladder.score.in.Dystopia & 0 & 1.00 & 1.78 & 0.00 & 1.78 & 1.78 & 1.78 &
1.78 & 1.78 & ▁▁▇▁▁ \\
Explained.by..Log.GDP.per.capita & 0 & 1.00 & 1.41 & 0.43 & 0.00 & 1.10
& 1.45 & 1.80 & 2.20 & ▁▃▆▇▆ \\
Explained.by..Social.support & 0 & 1.00 & 1.16 & 0.33 & 0.00 & 0.96 &
1.23 & 1.40 & 1.62 & ▁▂▃▆▇ \\
Explained.by..Healthy.life.expectancy & 1 & 0.99 & 0.37 & 0.16 & 0.00 &
0.25 & 0.39 & 0.49 & 0.70 & ▃▃▇▇▂ \\
Explained.by..Freedom.to.make.life.choices & 0 & 1.00 & 0.54 & 0.15 &
0.00 & 0.46 & 0.56 & 0.66 & 0.77 & ▁▁▃▇▇ \\
Explained.by..Generosity & 0 & 1.00 & 0.15 & 0.08 & 0.00 & 0.10 & 0.14 &
0.20 & 0.42 & ▃▇▅▁▁ \\
Explained.by..Perceptions.of.corruption & 0 & 1.00 & 0.15 & 0.13 & 0.00
& 0.06 & 0.11 & 0.19 & 0.56 & ▇▅▁▁▁ \\
Dystopia\ldots residual & 1 & 0.99 & 1.78 & 0.50 & -0.11 & 1.56 & 1.85 &
2.08 & 2.96 & ▁▂▅▇▂ \\
\end{longtable}

Check for missing data:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{missing\_data }\OtherTok{\textless{}{-}} \FunctionTok{colSums}\NormalTok{(}\FunctionTok{is.na}\NormalTok{(whr))}
\NormalTok{missing\_percent }\OtherTok{\textless{}{-}}\NormalTok{ (missing\_data}\SpecialCharTok{/}\FunctionTok{nrow}\NormalTok{(whr))}\SpecialCharTok{*}\DecValTok{100}
\NormalTok{missing\_df }\OtherTok{\textless{}{-}} \FunctionTok{data.frame}\NormalTok{(}
    \AttributeTok{variable =} \FunctionTok{names}\NormalTok{(missing\_data),}
    \AttributeTok{missing\_percent =}\NormalTok{ missing\_percent}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Visualize missing data:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(missing\_df, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =} \FunctionTok{reorder}\NormalTok{(variable, missing\_percent),}
                    \AttributeTok{y =}\NormalTok{ missing\_percent)) }\SpecialCharTok{+}
    \FunctionTok{geom\_bar}\NormalTok{(}\AttributeTok{stat =} \StringTok{"identity"}\NormalTok{) }\SpecialCharTok{+}
    \FunctionTok{coord\_flip}\NormalTok{() }\SpecialCharTok{+}
    \FunctionTok{theme\_minimal}\NormalTok{() }\SpecialCharTok{+}
    \FunctionTok{labs}\NormalTok{(}\AttributeTok{title =} \StringTok{"Percentage of Missing Values by Variable"}\NormalTok{,}
        \AttributeTok{x =} \StringTok{"Variables"}\NormalTok{, }\AttributeTok{y =} \StringTok{"Missing Percentage"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\pandocbounded{\includegraphics[keepaspectratio]{Challenge_World_Happiness_Dataset_files/figure-latex/unnamed-chunk-2-1.pdf}}

\paragraph{3. Data Cleaning and
Transformation}\label{data-cleaning-and-transformation}

Create a GDP category: Classify countries into High GDP or Low GDP based
on whether their Logged.GDP.per.capita is above or below the median
value. Hint: Use the median() function to find the median GDP, and
ifelse() to categorize the countries. Clean the data: Remove any rows
where the happiness score Ladder.score is missing

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{whr\_clean }\OtherTok{\textless{}{-}}\NormalTok{ whr }\SpecialCharTok{\%\textgreater{}\%}
    \FunctionTok{mutate}\NormalTok{(}\CommentTok{\# Create a GDP variable}
    \AttributeTok{GDP =} \FunctionTok{ifelse}\NormalTok{(Logged.GDP.per.capita }\SpecialCharTok{\textgreater{}=} \FunctionTok{median}\NormalTok{(whr}\SpecialCharTok{$}\NormalTok{Logged.GDP.per.capita), }\StringTok{"High GDP"}\NormalTok{, }\StringTok{"Low GDP"}\NormalTok{)) }\SpecialCharTok{\%\textgreater{}\%}
    \FunctionTok{filter}\NormalTok{(}\SpecialCharTok{!}\FunctionTok{is.na}\NormalTok{(Ladder.score))  }\CommentTok{\# Remove rows with missing ladder score values}
\end{Highlighting}
\end{Shaded}

\paragraph{2. Data Summarization}\label{data-summarization}

Calculate average happiness scores: Group the dataset by GDP category
(high vs.~low GDP) and calculate the average happiness score
Ladder.score for each group.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{country\_stats }\OtherTok{\textless{}{-}}\NormalTok{ whr\_clean }\SpecialCharTok{\%\textgreater{}\%}
    \FunctionTok{group\_by}\NormalTok{(GDP) }\SpecialCharTok{\%\textgreater{}\%}
    \FunctionTok{summarise}\NormalTok{(}
        \AttributeTok{Avg\_Happiness\_Score =} \FunctionTok{mean}\NormalTok{(Ladder.score)) }\SpecialCharTok{\%\textgreater{}\%}
    \FunctionTok{arrange}\NormalTok{(}\FunctionTok{desc}\NormalTok{(Avg\_Happiness\_Score))}
\end{Highlighting}
\end{Shaded}

\paragraph{3. Data Visualization}\label{data-visualization}

Create a box plot: Create a box plot that compares the happiness scores
Ladder.score between high and low GDP countries. Use ggplot2 to create
the plot.s)

Box Plot (Happiness Score by GDP):

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{box\_plot }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(whr\_clean,}
                \FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ GDP, }\AttributeTok{y =}\NormalTok{ Ladder.score)) }\SpecialCharTok{+}
    \FunctionTok{geom\_boxplot}\NormalTok{() }\SpecialCharTok{+}
    \FunctionTok{geom\_jitter}\NormalTok{(}\AttributeTok{alpha =} \FloatTok{0.1}\NormalTok{) }\SpecialCharTok{+}
    \FunctionTok{theme\_minimal}\NormalTok{() }\SpecialCharTok{+}
    \FunctionTok{labs}\NormalTok{(}\AttributeTok{title =} \StringTok{"Happiness Score by GDP"}\NormalTok{,}
        \AttributeTok{x =} \StringTok{"GDP"}\NormalTok{, }\AttributeTok{y =} \StringTok{"Happiness Score"}\NormalTok{)}
\FunctionTok{print}\NormalTok{(box\_plot)}
\end{Highlighting}
\end{Shaded}

\pandocbounded{\includegraphics[keepaspectratio]{Challenge_World_Happiness_Dataset_files/figure-latex/unnamed-chunk-5-1.pdf}}

\paragraph{4. Statistical Analysis}\label{statistical-analysis}

Perform a t-test: Perform a t-test to compare the average happiness
scores between high and low GDP countries. Interpret the result briefly
(focus on the p-value).

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{t\_test\_result }\OtherTok{\textless{}{-}} \FunctionTok{t.test}\NormalTok{(Ladder.score }\SpecialCharTok{\textasciitilde{}}\NormalTok{ GDP, }\AttributeTok{data =}\NormalTok{ whr\_clean)}
\FunctionTok{print}\NormalTok{(t\_test\_result)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
##  Welch Two Sample t-test
## 
## data:  Ladder.score by GDP
## t = 10.779, df = 130.93, p-value < 2.2e-16
## alternative hypothesis: true difference in means between group High GDP and group Low GDP is not equal to 0
## 95 percent confidence interval:
##  1.262241 1.829667
## sample estimates:
## mean in group High GDP  mean in group Low GDP 
##               6.307130               4.761176
\end{verbatim}

\end{document}
